<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team - Mosley Auto | Meet Our Amazing Team!</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöó</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo-section">
                <h1 class="logo">MOSLEY AUTO</h1>
                <p class="tagline">‚òÖ BEST DEALS IN LOS SANTOS! ‚òÖ</p>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">HOME</a>
                <a href="stock.html" class="nav-link">STOCK</a>
                <a href="team.html" class="nav-link active">TEAM</a>
                <a href="contact.html" class="nav-link">CONTACT</a>
            </nav>
        </header>

        <main class="main-content">
            <section class="hero">
                <div class="hero-banner">
                    <h2 class="hero-title">üë• MEET OUR TEAM! üë•</h2>
                    <p class="hero-subtitle">THE BEST CAR EXPERTS IN LOS SANTOS!</p>
                    <div class="promo-badges">
                        <span class="badge">‚òÖ EXPERIENCED PROFESSIONALS ‚òÖ</span>
                        <span class="badge">‚òÖ FRIENDLY SERVICE ‚òÖ</span>
                        <span class="badge">‚òÖ TRUSTED EXPERTS ‚òÖ</span>
                    </div>
                </div>
            </section>

            <section class="welcome">
                <h3>Our Amazing Team!</h3>
                <p>At Mosley Auto, we've got the BEST team in the business! Our experienced professionals are here to help you find the PERFECT car!</p>
                <p>From sales to service, we've got you COVERED with friendly, knowledgeable staff who CARE about your needs!</p>
            </section>

            <section class="team-section">
                <div id="loading" class="no-stock">
                    <h3>üîÑ LOADING OUR AMAZING TEAM... üîÑ</h3>
                    <p>Please wait while we introduce our fantastic staff!</p>
                </div>

                <div id="team-container" class="team-grid" style="display: none;">
                    <!-- Team members will be loaded here by JavaScript -->
                </div>

                <div id="no-team" class="no-stock" style="display: none;">
                    <h3>üö´ TEAM INFO COMING SOON! üö´</h3>
                    <p>We're updating our team page with NEW PHOTOS and info!</p>
                    <p><a href="contact.html" style="color: #ff0000; font-weight: bold;">CONTACT US</a> to meet our team in person!</p>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Mosley Auto - mosleyauto.com | Best Cars, Best Prices, Best Service!</p>
        </footer>
    </div>

    <script>
        // Load team from API
        async function loadTeam() {
            try {
                // Add timestamp to prevent caching
                const timestamp = new Date().getTime();
                const response = await fetch(`/api/team?t=${timestamp}`);
                const data = await response.json();
                
                const loadingEl = document.getElementById('loading');
                const containerEl = document.getElementById('team-container');
                const noTeamEl = document.getElementById('no-team');
                
                loadingEl.style.display = 'none';
                
                if (data.success && data.team && data.team.length > 0) {
                    containerEl.style.display = 'grid';
                    containerEl.innerHTML = data.team.map(member => `
                        <div class="team-card">
                            <img src="${member.photo}" alt="${member.name}" class="team-photo" onerror="this.src='data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 120 120\'><circle cx=\'60\' cy=\'60\' r=\'60\' fill=\'%23f0f0f0\'/><text x=\'60\' y=\'70\' text-anchor=\'middle\' fill=\'%23666\' font-size=\'40\'>üë§</text></svg>'">
                            <h3 class="team-name">${member.name}</h3>
                            <p class="team-role">${member.role}</p>
                            <p class="team-bio">${member.bio}</p>
                        </div>
                    `).join('');
                } else {
                    noTeamEl.style.display = 'block';
                }
            } catch (error) {
                console.error('Error loading team:', error);
                const loadingEl = document.getElementById('loading');
                const noTeamEl = document.getElementById('no-team');
                
                loadingEl.style.display = 'none';
                noTeamEl.style.display = 'block';
                noTeamEl.innerHTML = `
                    <h3>‚ö†Ô∏è OOPS! SOMETHING WENT WRONG! ‚ö†Ô∏è</h3>
                    <p>We're having trouble loading our team info right now.</p>
                    <p>Please <a href="contact.html" style="color: #ff0000; font-weight: bold;">CONTACT US</a> to meet our team!</p>
                `;
            }
        }
        
        // Load team when page loads
        document.addEventListener('DOMContentLoaded', loadTeam);
    </script>
</body>
</html>